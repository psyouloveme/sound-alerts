var e={buildButton:function(e,n,t){const d=document.createElement("button");return t&&t.length>0&&d.classList.add(...t),d.name=e,d.innerText=n,d},buildLabel:function(e,n,t){const d=document.createElement("label");return t&&t.length>0&&d.classList.add(...t),d.htmlFor=e,d.innerText=n,d},buildTextInput:function(e,n,t){const d=document.createElement("input");return t&&t.length>0&&d.classList.add(...t),d.type="text",d.name=e,d.value=n,d},buildSelect:function(e,n,t){const d=document.createElement("select");return e&&e.length>0&&d.classList.add(...e),d.name=n,t.forEach((e=>{const n=document.createElement("option");n.value=e.value,n.innerText=e.label,n.selected=e.selected,d.add(n)})),d},buildHiddenInput:function(e,n){const t=document.createElement("input");return t.type="hidden",t.name=e,t.value=n,t},buildSpan:function(e,n){const t=document.createElement("span");return n&&n.length>0&&t.classList.add(...n),t.innerText=e,t},buildDiv:function(e,n){const t=document.createElement("div");return n&&n.length>0&&t.classList.add(...n),e&&(t.id=e),t},buildNumberInput:function(e,n,t){const d=document.createElement("input");return t&&t.length>0&&d.classList.add(...t),d.type="number",d.name=e,d.value=n,d},buildForm:function(e,n,t){const d=document.createElement("form");return e&&(d.name=e),n&&(d.id=n),t&&t.length>0&&d.classList.add(...t),d}};let n;var t;let d;(t=n||(n={})).soundCueConfig="soundCueConfig",t.soundCuesEnabled="soundCuesEnabled",t.soundCueList="soundCueList",t.soundCueLog="soundCueLog",t.soundCueTypes="soundCueTypes",t.soundCueCommandIndex="soundCueCommandIndex",t.nodeCGServerSoundCues="soundCues",(d||(d={})).change="change";var o=d;let a;var l;let i;(l=a||(a={})).commandFormRow="commandFormRow",l.btnRemove="btnRemove",l.btnAdd="btnAdd",l.formGroup="formGroup",l.middle="middle",l.btnToggleEnabled="btnToggleEnabled",l.enabled="enabled",l.readOnly="readOnly",l.hidden="hidden",l.cueSelectWrapper="cueSelectWrapper",(i||(i={})).cueConfigPanel="cueConfigPanel";const u=nodecg.Replicant(n.soundCueConfig),r=nodecg.Replicant(n.soundCueTypes),c=nodecg.Replicant(n.soundCueList);function s(e){if(e.preventDefault(),!u||!u.value)return void console.error("Failed enabling/disabling sound alert - replicant not available.");if(!e.target)return void console.error("Failed enabling/disabling sound alert - no event target found.");const n=e.target;if(!n.dataset.cmdName)return void console.error("Failed enabling/disabling sound alert - command name found.");const t=n.dataset.cmdName,d=u.value.find((e=>e.commandName===t));if(!d)return void console.error(`Failed enabling/disabling sound alert - command matching "${t}" not found.`);const o="true"===n.dataset.enabled;d.enabled=!o}function m(n){let t=[a.formGroup];n&&(t=t.concat(n));return e.buildDiv(void 0,t)}function p(n,t){if(!r||!r.value)throw Error("Unable to map command rows - no command types are loaded.");if(!c||!c.value)throw Error("Unable to map command rows - no sound cues are loaded.");console.log(JSON.stringify(n));const d=e.buildForm("commandForm",null,[]);d.dataset.id=n.id.toString(),d.dataset.commandName=n.commandName,d.dataset.index=t.toString();const o=e.buildDiv(`cmd-row-${n.commandName}`,[a.commandFormRow]);let l=m([a.middle]),i=function(n,t){let d=n?"On":"Off";const o=e.buildButton("btnEnabled",d,[a.btnToggleEnabled]);return n&&o.classList.add(a.enabled),o.onclick=s,o.dataset.cmdName=t,o.dataset.enabled=n.toString(),o}(n.enabled,n.commandName);l.appendChild(i),o.appendChild(l),l=m([a.middle]);let u=e.buildSpan(n.id.toString());l.appendChild(u),o.appendChild(l),l=m();let p=e.buildLabel("commandName","Name");return u=e.buildSpan(n.commandName),l.append(p,u),o.appendChild(l),l=m(),p=e.buildLabel("coolDownMs","Cooldown"),u=e.buildSpan(n.coolDownMs?`${n.coolDownMs} ms`:"None"),l.append(p,u),o.appendChild(l),l=m(),p=e.buildLabel("commandType","Type"),u=e.buildSpan(n.commandType),l.append(p,u),o.appendChild(l),l=m(),p=e.buildLabel("mappedCues","Cues"),u=n.mappedCues.length<=0?e.buildSpan("None"):e.buildSpan(n.mappedCues.join(", ")),l.append(p,u),o.appendChild(l),l=m([a.middle]),i=e.buildButton("","Edit",[]),l.appendChild(i),o.appendChild(l),d.appendChild(o),d}function b(e,n){Array.isArray(e)?e&&!n?function(e){const n=document.getElementById(i.cueConfigPanel);if(!n)return void console.error("Unable to locate panel, skipping form initialization.");const t=e.map(p);n.append(...t)}(e):e&&n?document.getElementById(i.cueConfigPanel)||console.error("Unable to locate panel, skipping form update."):!e&&n&&(document.getElementById(i.cueConfigPanel)||console.error("Unable to locate panel, skipping form teardown.")):console.error("No config was provided, skipping form render.")}document.addEventListener("DOMContentLoaded",(function(){NodeCG.waitForReplicants(u,r,c).then((()=>{u.on(o.change,b)}))}));
//# sourceMappingURL=index.00624e09.js.map
