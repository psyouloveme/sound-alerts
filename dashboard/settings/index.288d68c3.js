var e={buildButton:function(e,n,d){const t=document.createElement("button");return d&&d.length>0&&t.classList.add(...d),t.name=e,t.innerText=n,t},buildLabel:function(e,n,d){const t=document.createElement("label");return d&&d.length>0&&t.classList.add(...d),t.htmlFor=e,t.innerText=n,t},buildTextInput:function(e,n,d){const t=document.createElement("input");return d&&d.length>0&&t.classList.add(...d),t.type="text",t.name=e,t.value=n,t},buildSelect:function(e,n,d){const t=document.createElement("select");return e&&e.length>0&&t.classList.add(...e),t.name=n,d.forEach((e=>{const n=document.createElement("option");n.value=e.value,n.innerText=e.label,n.selected=e.selected,t.add(n)})),t},buildHiddenInput:function(e,n){const d=document.createElement("input");return d.type="hidden",d.name=e,d.value=n,d},buildSpan:function(e,n){const d=document.createElement("span");return n&&n.length>0&&d.classList.add(...n),d.innerText=e,d},buildDiv:function(e,n){const d=document.createElement("div");return n&&n.length>0&&d.classList.add(...n),e&&(d.id=e),d},buildNumberInput:function(e,n,d){const t=document.createElement("input");return d&&d.length>0&&t.classList.add(...d),t.type="number",t.name=e,t.value=n,t},buildForm:function(e,n,d){const t=document.createElement("form");return e&&(t.name=e),n&&(t.id=n),d&&d.length>0&&t.classList.add(...d),t}};let n;var d;let t;(d=n||(n={})).soundCueConfig="soundCueConfig",d.soundCuesEnabled="soundCuesEnabled",d.soundCueList="soundCueList",d.soundCueLog="soundCueLog",d.soundCueTypes="soundCueTypes",d.soundCueCommandIndex="soundCueCommandIndex",d.nodeCGServerSoundCues="soundCues",(t||(t={})).change="change";var o=t;let a;var l;let i;(l=a||(a={})).commandFormRow="commandFormRow",l.btnRemove="btnRemove",l.btnAdd="btnAdd",l.formGroup="formGroup",l.middle="middle",l.btnToggleEnabled="btnToggleEnabled",l.enabled="enabled",l.readOnly="readOnly",l.hidden="hidden",l.cueSelectWrapper="cueSelectWrapper",(i||(i={})).cueConfigPanel="cueConfigPanel";const u=nodecg.Replicant(n.soundCueConfig),r=nodecg.Replicant(n.soundCueTypes),c=nodecg.Replicant(n.soundCueList);function s(e){if(e.preventDefault(),!u||!u.value)return void console.error("Failed enabling/disabling sound alert - replicant not available.");if(!e.target)return void console.error("Failed enabling/disabling sound alert - no event target found.");const n=e.target;if(!n.dataset.cmdName)return void console.error("Failed enabling/disabling sound alert - command name found.");const d=n.dataset.cmdName,t=u.value.find((e=>e.commandName===d));if(!t)return void console.error(`Failed enabling/disabling sound alert - command matching "${d}" not found.`);const o="true"===n.dataset.enabled;t.enabled=!o}function m(n){let d=[a.formGroup];n&&(d=d.concat(n));return e.buildDiv(void 0,d)}function p(n,d){if(!r||!r.value)throw Error("Unable to map command rows - no command types are loaded.");if(!c||!c.value)throw Error("Unable to map command rows - no sound cues are loaded.");console.log(JSON.stringify(n));const t=e.buildForm(`commandForm-${n.id}`,null,[]);t.dataset.id=n.id.toString(),t.dataset.commandName=n.commandName,t.dataset.index=d.toString();const o=e.buildDiv(`cmd-row-${n.commandName}`,[a.commandFormRow]);let l=m([a.middle]),i=function(n,d){let t=n?"On":"Off";const o=e.buildButton("btnEnabled",t,[a.btnToggleEnabled]);return n&&o.classList.add(a.enabled),o.onclick=s,o.dataset.cmdName=d,o.dataset.enabled=n.toString(),o}(n.enabled,n.commandName);l.appendChild(i),o.appendChild(l),l=m([a.middle]);let u=e.buildSpan(n.id.toString());l.appendChild(u),o.appendChild(l),l=m(),l.dataset.fieldName="name";let p=e.buildLabel("commandName","Name");return u=e.buildSpan(n.commandName),l.append(p,u),o.appendChild(l),l=m(),l.dataset.fieldName="cooldown",p=e.buildLabel("coolDownMs","Cooldown"),u=e.buildSpan(n.coolDownMs?`${n.coolDownMs} ms`:"None"),l.append(p,u),o.appendChild(l),l=m(),l.dataset.fieldName="type",p=e.buildLabel("commandType","Type"),u=e.buildSpan(n.commandType),l.append(p,u),o.appendChild(l),l=m(),l.dataset.fieldName="cues",p=e.buildLabel("mappedCues","Cues"),u=n.mappedCues.length<=0?e.buildSpan("None"):e.buildSpan(n.mappedCues.join(", ")),l.append(p,u),o.appendChild(l),l=m([a.middle]),i=e.buildButton("","Edit",[]),l.appendChild(i),o.appendChild(l),t.appendChild(o),t}function b(e,n){Array.isArray(e)?e&&!n?function(e){const n=document.getElementById(i.cueConfigPanel);if(!n)return void console.error("Unable to locate panel, skipping form initialization.");const d=e.map(p);n.append(...d)}(e):e&&n?document.getElementById(i.cueConfigPanel)||console.error("Unable to locate panel, skipping form update."):!e&&n&&(document.getElementById(i.cueConfigPanel)||console.error("Unable to locate panel, skipping form teardown.")):console.error("No config was provided, skipping form render.")}document.addEventListener("DOMContentLoaded",(function(){NodeCG.waitForReplicants(u,r,c).then((()=>{u.on(o.change,b)}))}));
//# sourceMappingURL=index.288d68c3.js.map
