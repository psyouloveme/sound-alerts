{"mappings":"AACA,MAAMA,EAAeC,OAAOC,UAAyB,mBAErD,SAASC,EAAuBC,EAAsBC,GACpD,OAAID,EAAE,GAAKC,EAAE,GACJ,EACED,EAAE,KAAOC,EAAE,GAChBD,EAAE,GAAKC,EAAE,GACJ,EACED,EAAE,KAAOC,EAAE,GACb,GAEA,GAGF,CAEX,CAEAC,OAAOC,kBAAkBP,GACtBQ,MAAK,KAEJR,EAAaS,GAAG,UAAWC,IACzB,MAAMC,EAAgBC,SAASC,eAAe,qBAC9C,GAAqB,MAAjBF,EACF,OAGF,MAAMG,EAAUC,OAAOD,QAAQJ,GAC/BI,EAAQE,KAAKb,GAEb,MAAMc,EAAQL,SAASM,cAAc,SACrCD,EAAME,UAAUC,IAAI,yBAEpB,IAAIC,EADUJ,EAAMK,cACJC,YACZC,EAAOH,EAAII,aACfD,EAAKE,UAAY,OACjBF,EAAOH,EAAII,aACXD,EAAKE,UAAY,OAEjB,MAAMC,EAAQV,EAAMW,cACpB,IAAK,IAAIC,EAAI,EAAGA,EAAIf,EAAQgB,OAAQD,IAClCR,EAAMM,EAAMJ,YACZC,EAAOH,EAAII,aACXD,EAAKE,UAAYZ,EAAQe,GAAG,GAC5BL,EAAOH,EAAII,aACXD,EAAKE,UAAYZ,EAAQe,GAAG,GAAGE,WAGD,MAA5BpB,EAAcqB,YAChBrB,EAAcsB,YAAYtB,EAAcqB,YAE1CrB,EAAcuB,YAAYjB,EAAA,GAC5B,IAEDkB,OAAOC,IACNC,QAAQC,MAAMF,EAAA","sources":["src/dashboard/play-counter/index.ts"],"sourcesContent":["\nconst audoAlertLog = nodecg.Replicant<AudioAlertLog>('audio-alert-log')\n\nfunction sortAudioAlertEntries (a: AudoAlertLogEntry, b: AudoAlertLogEntry): number {\n  if (a[1] < b[1]) {\n    return 1\n  } else if (a[1] === b[1]) {\n    if (a[0] < b[0]) {\n      return 1\n    } else if (a[0] === b[0]) {\n      return 0\n    } else {\n      return -1\n    }\n  } else {\n    return -1\n  }\n}\n\nNodeCG.waitForReplicants(audoAlertLog)\n  .then(() => {\n  // change handler for alert logs\n    audoAlertLog.on('change', (nextVal) => {\n      const tableAreaElem = document.getElementById('table-placeholder')\n      if (tableAreaElem == null) {\n        return\n      }\n\n      const entries = Object.entries(nextVal)\n      entries.sort(sortAudioAlertEntries)\n\n      const table = document.createElement('table')\n      table.classList.add('audio-alert-log-table')\n      const thead = table.createTHead()\n      let row = thead.insertRow()\n      let cell = row.insertCell()\n      cell.innerText = 'Name'\n      cell = row.insertCell()\n      cell.innerText = 'Hits'\n\n      const tbody = table.createTBody()\n      for (let x = 0; x < entries.length; x++) {\n        row = tbody.insertRow()\n        cell = row.insertCell()\n        cell.innerText = entries[x][0]\n        cell = row.insertCell()\n        cell.innerText = entries[x][1].toString()\n      }\n\n      if (tableAreaElem.firstChild != null) {\n        tableAreaElem.removeChild(tableAreaElem.firstChild)\n      }\n      tableAreaElem.appendChild(table)\n    })\n  })\n  .catch((err) => {\n    console.error(err)\n  })\n"],"names":["$4217c1d7995619ab$var$audoAlertLog","nodecg","Replicant","$4217c1d7995619ab$var$sortAudioAlertEntries","a","b","NodeCG","waitForReplicants","then","on","nextVal","tableAreaElem","document","getElementById","entries","Object","sort","table","createElement","classList","add","row","createTHead","insertRow","cell","insertCell","innerText","tbody","createTBody","x","length","toString","firstChild","removeChild","appendChild","catch","err","console","error"],"version":3,"file":"index.3e0760bd.js.map"}